<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Chat</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">

    <style id="style"></style>
</head>
<body>
    <!-- Tela de login -->
    <div id="registrar_container">
        <div id="registrar" class="">
            <h2>login / registro</h2>
            <input type="text" name="nickname" id="nick" placeholder="usuário">
            <input type="password" name="senha" id="senha" placeholder="senha">
            <a id="nick_enviar">pronto</a>
        </div>
        <a class="resetar_cache">resetar cache</a>
    </div>
    <!-- Onde aparece as mensagens -->
    <section id="vitrine">
        <!-- <div class="suaMsg respondendo" style="order: 100;">
            <div class="msg_antiga">
                <h4>nome</h4>
                <p>text</p>
            </div>
            <h4>Nome</h4>
            <p>aaaaaaaaaaaa</p>
            <p class="hora">99:99</p>
        </div> -->
        <!-- <div class="outraMsg">
            <h4>Nome</h4>
            <p>aaaaaaaaaaaa</p>
            <p class="hora">99:99</p>
        </div> -->
        <!-- <div class="novoUsuario">@teu pai entrou no chat</div> -->
         
        <!-- Esses 2 itens aparecem quando o usuario expande uma imagem -->
        <div id="background_zoom" class=""></div>
        <svg id="fechar_zoom" class=""><use href="#icon_mais" /></svg>
    </section>
    <!-- Campo de digitar -->
    <div id="campo_container" class="">
        <div id="responder">
            <h4></h4>
            <p></p>
        </div>
        <textarea name="" id="campoEscrita" placeholder="Escrever..." rows="3" cols="50"></textarea>
        <label for="upload" id="botao_midia"><svg><use href="#icon_imagem"/></svg></label>
        <input type="file" class="input-file" id="upload" accept="image/*|audio/*" />
        <a id="enviar_btn"><svg><use href="#icon_enviar"/></svg></a>
    </div>
    <!-- Menu esquerdo (painel de cores) -->
    <a id="abrir_menu"><svg><use href="#icon_engrenagem" /></svg></a>
    <div id="menu" class="">
        <label for="suas_cores">tema</label>
        <div id="suas_cores">
            <a class="cor_tema" ></a>
            <a class="cor_tema" ></a>
            <a class="cor_tema" ></a>
            <a class="cor_tema" ></a>
            <a class="cor_tema" ></a>
            <a class="cor_tema" ></a>
            <a class="cor_tema" ></a>
            <a class="cor_tema" ></a>
        </div>
            <input id="cor_tema_input" type="text" placeholder="NOMES EM INGLES / RGB / HEX">
            <a id="testar_cor_tema_btn">testar cor</a>
        <label for="fundo_cores">background</label>
        <div id="fundo_cores">
            <a class="cor_fundo" ></a>
            <a class="cor_fundo" ></a>
            <a class="cor_fundo" ></a>
            <a class="cor_fundo" ></a>
            <a class="cor_fundo" ></a>
            <a class="cor_fundo" ></a>
            <a class="cor_fundo" ></a>
            <a class="cor_fundo" ></a>
        </div>
            <input id="cor_fundo_input" type="text" placeholder="NOMES EM INGLES / RGB / HEX">
            <a id="testar_cor_fundo_btn">testar cor</a>
        <div id="imagens_pred">
            <!-- Roxos -->
            <a class="imagem" ><img src="https://wallpapers-clan.com/wp-content/uploads/2024/01/stunning-purple-landscape-desktop-wallpaper-preview.jpg" loading="lazy"></a>
            <a class="imagem" ><img src="https://i.ibb.co/NFRhL44/img.jpg" loading="lazy"></a>
            <a class="imagem" ><img src="https://images.unsplash.com/photo-1517504734587-2890819debab?ixlib=rb-1.2.1&w=1000&q=80" loading="lazy"></a>
            <!-- Pretos -->
            <a class="imagem" ><img src="https://wallpaperbat.com/img/779712-black-dark-wallpaper.jpg" loading="lazy"></a>
            <a class="imagem" ><img src="https://wallpapers.com/images/hd/gothic-nature-landscape-art-ejhwz5y4lkuorljq.jpg" loading="lazy"></a>
            <a class="imagem" ><img src="https://i.pinimg.com/originals/1a/85/aa/1a85aac66c257cbb46fb716b300c0559.jpg" loading="lazy"></a>
            <!-- Brancos -->
            <a class="imagem" ><img src="https://wallpaperbat.com/img/648468-green-and-white-gaming-wallpaper-top-free-green-and-white-gaming-background.jpg" loading="lazy"></a>
            <a class="imagem" ><img src="https://i.pinimg.com/originals/43/56/98/43569854e55df8c2871819eba313184e.jpg" loading="lazy"></a>
            <a class="imagem" ><img src="https://wallpapercave.com/wp/wp8552433.jpg" loading="lazy"></a>
        </div>
        <div id="orientacao_imagens">
            <a name="left"><svg><use href="#icon_esquerda" /></svg></a>
            <a name="center"><svg><use href="#icon_centro" /></svg></a>
            <a name="right"><svg><use href="#icon_direita" /></svg></a>
        </div>
        <div>
            <div>
            <input id="imagem_fundo_input" type="url" placeholder="URL">
            <a id="testar_imagem_fundo_btn">testar imagem</a>
            </div>
        </div>
        <label for="texto_cores">textos</label>
        <div id="texto_cores">
            <a class="cor_texto" ></a>
            <a class="cor_texto" ></a>
            <a class="cor_texto" ></a>
            <a class="cor_texto" ></a>
            <a class="cor_texto" ></a>
            <a class="cor_texto" ></a>
            <a class="cor_texto" ></a>
            <a class="cor_texto" ></a>
        </div>
        <label for="nomes_cores">nomes</label>
        <div id="nomes_cores">
            <a class="cor_nomes" ></a>
            <a class="cor_nomes" ></a>
            <a class="cor_nomes" ></a>
            <a class="cor_nomes" ></a>
            <a class="cor_nomes" ></a>
            <a class="cor_nomes" ></a>
            <a class="cor_nomes" ></a>
            <a class="cor_nomes" ></a>
        </div>
        <a class="resetar_cache" id="cache_menu">resetar cache</a>
        <a id="procurar_atualizacao" name="procurarAtt">procurar atualização</a>
        <a id="salvar_cores">salvar</a>
        <a id="fechar_menu"><svg><use href="#icon_mais" /></svg></a>
    </div>
    <!-- Menu direito (registros) -->
    <a id="abrir_lista"><svg><use href="#icon_pessoas" /></svg></a>
    <div id="lista" class="">
        <div id="voce" name="">
            <input type="text"  id="voce_nome">
            <svg><use href="#icon_lapis" /></svg>
        </div>
        <div id="aviso_troca_nome" class="">
            <label for="nome">novo nome</label>
            <h3>pipipi</h3>
            <label for="senha">coloque sua senha para poder prosseguir</label>
            <input id="senha_input" name="senha" type="text">
            <a name="trocar_sim">enviar</a>
        </div>
        <label>registrados</label>
        <!-- <span>
            <svg><use href="#icon_perfil"/></svg>
            NOME EXEPLO
        </span>
        <div class="cores_usadas">
            <span>tema: <div class="cor_box"></div></span>
            <span>textos: <div class="cor_box"></div></span>
            <span>nomes: <div class="cor_box"></div></span>
            <span>fundo: <div class="cor_box"></div></span>
        </div> -->
        <a id="fechar_lista"><svg><use href="#icon_mais"/></svg></a>
    </div>
    <!-- Painel de erro, caso necessario -->
    <div id="aviso_erro" class="">
        <h2>erro</h2>
        <p>202020 | kpkpkpkdpskapdkpsakdpkapdkp</p>
        <p id="aviso_local">em: local</p>
    </div>
    <svg style="display: none; fill: currentColor;">
        <symbol id="icon_enviar" viewBox="0 0 640 640">
            <path d="M322.5 351.7L523.4 150.9L391 520.3L322.5 351.7zM489.4 117L288.6 317.8L120 249.3L489.4 117zM70.1 280.8L275.9 364.4L359.5 570.2C364.8 583.3 377.6 591.9 391.8 591.9C406.5 591.9 419.6 582.7 424.6 568.8L602.6 72C606.1 62.2 603.6 51.4 596.3 44C589 36.6 578.1 34.2 568.3 37.7L71.4 215.7C57.5 220.7 48.3 233.8 48.3 248.5C48.3 262.7 56.9 275.5 70 280.8z"/>
        </symbol>
        <symbol id="icon_mais" viewBox="0 0 640 640">
            <path d="M352 128C352 110.3 337.7 96 320 96C302.3 96 288 110.3 288 128L288 288L128 288C110.3 288 96 302.3 96 320C96 337.7 110.3 352 128 352L288 352L288 512C288 529.7 302.3 544 320 544C337.7 544 352 529.7 352 512L352 352L512 352C529.7 352 544 337.7 544 320C544 302.3 529.7 288 512 288L352 288L352 128z"/>
        </symbol>
        <symbol id="icon_engrenagem" viewBox="0 0 640 640">
            <path d="M259.1 73.5C262.1 58.7 275.2 48 290.4 48L350.2 48C365.4 48 378.5 58.7 381.5 73.5L396 143.5C410.1 149.5 423.3 157.2 435.3 166.3L503.1 143.8C517.5 139 533.3 145 540.9 158.2L570.8 210C578.4 223.2 575.7 239.8 564.3 249.9L511 297.3C511.9 304.7 512.3 312.3 512.3 320C512.3 327.7 511.8 335.3 511 342.7L564.4 390.2C575.8 400.3 578.4 417 570.9 430.1L541 481.9C533.4 495 517.6 501.1 503.2 496.3L435.4 473.8C423.3 482.9 410.1 490.5 396.1 496.6L381.7 566.5C378.6 581.4 365.5 592 350.4 592L290.6 592C275.4 592 262.3 581.3 259.3 566.5L244.9 496.6C230.8 490.6 217.7 482.9 205.6 473.8L137.5 496.3C123.1 501.1 107.3 495.1 99.7 481.9L69.8 430.1C62.2 416.9 64.9 400.3 76.3 390.2L129.7 342.7C128.8 335.3 128.4 327.7 128.4 320C128.4 312.3 128.9 304.7 129.7 297.3L76.3 249.8C64.9 239.7 62.3 223 69.8 209.9L99.7 158.1C107.3 144.9 123.1 138.9 137.5 143.7L205.3 166.2C217.4 157.1 230.6 149.5 244.6 143.4L259.1 73.5zM320.3 400C364.5 399.8 400.2 363.9 400 319.7C399.8 275.5 363.9 239.8 319.7 240C275.5 240.2 239.8 276.1 240 320.3C240.2 364.5 276.1 400.2 320.3 400z"/>
        </symbol>
        <symbol id="icon_pessoas" viewBox="0 0 640 640">
            <path d="M320 80C377.4 80 424 126.6 424 184C424 241.4 377.4 288 320 288C262.6 288 216 241.4 216 184C216 126.6 262.6 80 320 80zM96 152C135.8 152 168 184.2 168 224C168 263.8 135.8 296 96 296C56.2 296 24 263.8 24 224C24 184.2 56.2 152 96 152zM0 480C0 409.3 57.3 352 128 352C140.8 352 153.2 353.9 164.9 357.4C132 394.2 112 442.8 112 496L112 512C112 523.4 114.4 534.2 118.7 544L32 544C14.3 544 0 529.7 0 512L0 480zM521.3 544C525.6 534.2 528 523.4 528 512L528 496C528 442.8 508 394.2 475.1 357.4C486.8 353.9 499.2 352 512 352C582.7 352 640 409.3 640 480L640 512C640 529.7 625.7 544 608 544L521.3 544zM472 224C472 184.2 504.2 152 544 152C583.8 152 616 184.2 616 224C616 263.8 583.8 296 544 296C504.2 296 472 263.8 472 224zM160 496C160 407.6 231.6 336 320 336C408.4 336 480 407.6 480 496L480 512C480 529.7 465.7 544 448 544L192 544C174.3 544 160 529.7 160 512L160 496z"/>
        </symbol>
        <symbol id="icon_perfil" viewBox="0 0 640 640">
            <path d="M320 312C386.3 312 440 258.3 440 192C440 125.7 386.3 72 320 72C253.7 72 200 125.7 200 192C200 258.3 253.7 312 320 312zM290.3 368C191.8 368 112 447.8 112 546.3C112 562.7 125.3 576 141.7 576L498.3 576C514.7 576 528 562.7 528 546.3C528 447.8 448.2 368 349.7 368L290.3 368z"/>
        </symbol>
        <symbol id="icon_lapis" viewBox="0 0 640 640">
            <path d="M535.6 85.7C513.7 63.8 478.3 63.8 456.4 85.7L432 110.1L529.9 208L554.3 183.6C576.2 161.7 576.2 126.3 554.3 104.4L535.6 85.7zM236.4 305.7C230.3 311.8 225.6 319.3 222.9 327.6L193.3 416.4C190.4 425 192.7 434.5 199.1 441C205.5 447.5 215 449.7 223.7 446.8L312.5 417.2C320.7 414.5 328.2 409.8 334.4 403.7L496 241.9L398.1 144L236.4 305.7zM160 128C107 128 64 171 64 224L64 480C64 533 107 576 160 576L416 576C469 576 512 533 512 480L512 384C512 366.3 497.7 352 480 352C462.3 352 448 366.3 448 384L448 480C448 497.7 433.7 512 416 512L160 512C142.3 512 128 497.7 128 480L128 224C128 206.3 142.3 192 160 192L256 192C273.7 192 288 177.7 288 160C288 142.3 273.7 128 256 128L160 128z"/>
        </symbol>
        <symbol id="icon_imagem" viewBox="0 0 640 640">
            <path d="M160 96C124.7 96 96 124.7 96 160L96 480C96 515.3 124.7 544 160 544L480 544C515.3 544 544 515.3 544 480L544 160C544 124.7 515.3 96 480 96L160 96zM224 176C250.5 176 272 197.5 272 224C272 250.5 250.5 272 224 272C197.5 272 176 250.5 176 224C176 197.5 197.5 176 224 176zM368 288C376.4 288 384.1 292.4 388.5 299.5L476.5 443.5C481 450.9 481.2 460.2 477 467.8C472.8 475.4 464.7 480 456 480L184 480C175.1 480 166.8 475 162.7 467.1C158.6 459.2 159.2 449.6 164.3 442.3L220.3 362.3C224.8 355.9 232.1 352.1 240 352.1C247.9 352.1 255.2 355.9 259.7 362.3L286.1 400.1L347.5 299.6C351.9 292.5 359.6 288.1 368 288.1z"/>
        </symbol>
        <symbol id="icon_esquerda" viewBox="0 0 640 640">
            <path d="M73.4 297.4C60.9 309.9 60.9 330.2 73.4 342.7L233.4 502.7C245.9 515.2 266.2 515.2 278.7 502.7C291.2 490.2 291.2 469.9 278.7 457.4L173.3 352L544 352C561.7 352 576 337.7 576 320C576 302.3 561.7 288 544 288L173.3 288L278.7 182.6C291.2 170.1 291.2 149.8 278.7 137.3C266.2 124.8 245.9 124.8 233.4 137.3L73.4 297.3z"/>
        </symbol>
        <symbol id="icon_centro" viewBox="0 0 640 640">
            <path d="M342.6 81.4C330.1 68.9 309.8 68.9 297.3 81.4L137.3 241.4C124.8 253.9 124.8 274.2 137.3 286.7C149.8 299.2 170.1 299.2 182.6 286.7L288 181.3L288 552C288 569.7 302.3 584 320 584C337.7 584 352 569.7 352 552L352 181.3L457.4 286.7C469.9 299.2 490.2 299.2 502.7 286.7C515.2 274.2 515.2 253.9 502.7 241.4L342.7 81.4z"/>
        </symbol>
        <symbol id="icon_direita" viewBox="0 0 640 640">
            <path d="M566.6 342.6C579.1 330.1 579.1 309.8 566.6 297.3L406.6 137.3C394.1 124.8 373.8 124.8 361.3 137.3C348.8 149.8 348.8 170.1 361.3 182.6L466.7 288L96 288C78.3 288 64 302.3 64 320C64 337.7 78.3 352 96 352L466.7 352L361.3 457.4C348.8 469.9 348.8 490.2 361.3 502.7C373.8 515.2 394.1 515.2 406.6 502.7L566.6 342.7z"/>
        </symbol>
    </svg>
</body>
<script type="module" src="login.js"></script>
<script type="module" src="geral.js"></script>
<script type="module" src="menus.js"></script>
<script type="module">        
        // Isso é para poder usar o index.html
    const seuNome = localStorage.getItem('nickname') ?? '';
    if(seuNome != ''){
        document.getElementById('registrar_container').remove();
    }

    // Apagando
    import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm"
    const supabase = window.supabase ??= createClient('https://ljpchdnlebmzvsjcyfei.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxqcGNoZG5sZWJtenZzamN5ZmVpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQzMzAxOTYsImV4cCI6MjA2OTkwNjE5Nn0.wkcNLzuBEv1T_f2VEo8CwC04Yuta5VQli6pkZ2ZBy48');

    // limpando()
    async function limpando(){
        const limiteId = localStorage.getItem('ultimaID') - 50;
        const { data, error } = await supabase
        .from('chat')
        .delete()
        .lte('id', limiteId)
        .not('cor', 'eq', 'usuarioConectado');

        console.log(error);
    }
</script>
</html>

<!-- Observação: Como este projeto foi desenvolvido com foco pessoal, priorizei o desempenho em vez de otimizações de SEO. -->
